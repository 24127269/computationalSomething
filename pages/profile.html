<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Culinary Compass</title>
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="../assets/css/profile.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header-unified" style="height: 70px !important; background: white !important; border-bottom: 1px solid #e5e7eb !important; display: flex !important; align-items: center !important; position: sticky !important; top: 0 !important; z-index: 1000 !important; padding: 0 !important; margin: 0 !important; width: 100% !important;">
        <div class="container" style="max-width: 1200px !important; margin: 0 auto !important; padding: 0 1rem !important; width: 100% !important;">
            <div class="header-content" style="display: flex !important; justify-content: space-between !important; align-items: center !important; height: 100% !important;">
                
                <a href="../index.html" class="logo-container" style="display: flex !important; align-items: center !important; gap: 12px !important; text-decoration: none !important;">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 40px !important; height: 40px !important; min-width: 40px !important; min-height: 40px !important; max-width: 40px !important; max-height: 40px !important;">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="#DC2626" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 17L12 22L22 17" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M2 12L12 17L22 12" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div class="header-text" style="display: flex !important; flex-direction: column !important;">
                        <h1 style="font-size: 1.25rem !important; font-weight: 700 !important; color: #111827 !important; margin: 0 !important; line-height: 1.2 !important; font-family: 'Roboto', sans-serif !important;">Culinary Compass</h1>
                        <p style="font-size: 0.875rem !important; color: #6B7280 !important; margin: 0 !important; font-family: 'Roboto', sans-serif !important;">Discover Vietnamese Cuisine</p>
                    </div>
                </a>

                <div class="nav-actions" id="navActions" style="display: flex !important; align-items: center !important; gap: 16px !important;">
                    </div>
            </div>
        </div>
    </header>

    <main class="profile-container">
        <div class="page-title">
            <h2>Profile Management</h2>
            <p>View and update your personal information</p>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="user-info-header">
                    <div class="avatar-circle">U</div>
                    <div>
                        <h3>Personal Information</h3>
                        <p class="sub-text">Your account information</p>
                    </div>
                </div>
                <button id="edit-btn" class="btn-edit">Edit</button>
            </div>

            <div class="card-body">
                <form id="profile-form">
                    <div class="info-row">
                        <label>Username</label>
                        <input type="text" id="username-input" class="info-value input-field" disabled>
                    </div>

                    <div class="info-row">
                        <label>Email</label>
                        <input type="email" id="email-input" class="info-value input-field" disabled>
                    </div>

                    <div id="password-section" style="display: none; margin-top: 20px; padding-top: 15px; border-top: 1px dashed #e5e7eb;">
                        <h4 style="margin: 0 0 15px 0; color: #DC2626; font-size: 1rem;">Change Password (Optional)</h4>
                        
                        <div class="info-row">
                            <label>New Password</label>
                            <input type="password" id="new-password" class="info-value input-field" placeholder="Enter new password">
                        </div>

                        <div class="info-row">
                            <label>Confirm New Password</label>
                            <input type="password" id="confirm-password" class="info-value input-field" placeholder="Retype new password">
                        </div>
                    </div>

                    <div id="action-buttons" style="display: none; margin-top: 20px; gap: 10px;">
                        <button type="button" id="save-btn" class="btn-submit" style="width: auto;">Save Changes</button>
                        <button type="button" id="cancel-btn" class="btn-outline" style="background: #fff;">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div>
                    <h3>ðŸ”” Notification Settings</h3>
                    <p class="sub-text">Manage how you receive notifications</p>
                </div>
            </div>
            <div class="card-body row-center">
                <div>
                    <strong>Email Notifications</strong>
                    <p class="small-text">Receive notifications about new tours via email</p>
                </div>
                <label class="switch">
                    <input type="checkbox" checked>
                    <span class="slider round"></span>
                </label>
            </div>
        </div>

        <div class="card footer-card">
            <div class="card-body row-center">
                <div class="small-text">
                    Account created: <b id="created-date">--</b><br>
                    Last updated: <b id="updated-date">--</b>
                </div>
                <a href="#" class="link-red">View Activity History</a>
            </div>
        </div>
    </main>

    <div id="accountDropdown" class="account-dropdown" style="display: none;">
        <div class="dropdown-content">
            <div class="dropdown-header">
                <div class="user-avatar">
                    <span id="userInitial">U</span>
                </div>
                <div class="user-info">
                    <p class="user-name" id="userName">User</p>
                    <p class="user-email">user@example.com</p>
                </div>
            </div>
            <hr class="dropdown-divider">
            <a href="profile.html" class="dropdown-item">My Account</a>
            <a href="favorites.html" class="dropdown-item">Favorite Restaurants</a>
            <a href="tour-history.html" class="dropdown-item">Tour History</a>
            <hr class="dropdown-divider">
            <a href="#" class="dropdown-item logout-item" onclick="handleLogout(); return false;">Sign Out</a>
        </div>
    </div>

    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/profile.js"></script>
</body>
</html>